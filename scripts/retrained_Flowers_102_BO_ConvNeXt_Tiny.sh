#!/bin/bash
#SBATCH --array=0-22%20
#SBATCH --error=/cluster/tufts/hugheslab/eharve06/slurmlog/err/log_%j.err
#SBATCH --gres=gpu:a100:1
#SBATCH --mem=64g
#SBATCH --ntasks=4
#SBATCH --output=/cluster/tufts/hugheslab/eharve06/slurmlog/out/log_%j.out
#SBATCH --partition=ccgpu
#SBATCH --time=48:00:00

source ~/.bashrc
conda activate l3d_2024f_cuda12_1

# Define an array of commands
experiments=(
    "python ../src/main_Flowers_102.py --alpha=1e-06 --beta=1e-06 --batch_size=128 --criterion='l2-sp' --dataset_directory='/cluster/tufts/hugheslab/eharve06/Flowers_102' --experiments_directory='/cluster/tufts/hugheslab/eharve06/data-emphasized-ELBo/experiments/retrained_Flowers_102_BO_ConvNeXt_Tiny' --lr_0=0.02060224603321948 --model_arch='ConvNeXt_Tiny' --model_name='l2-sp_alpha=1e-06_beta=1e-06_lr_0=0.02060224603321948_n=510_random_state=1001' --n=510 --num_workers=0 --prior_directory='/cluster/tufts/hugheslab/eharve06/convnext_tiny_torchvision' --prior_type='convnext_tiny_torchvision' --random_state=1001 --save"
    "python ../src/main_Flowers_102.py --alpha=3.4333477024483734e-05 --beta=1e-06 --batch_size=128 --criterion='l2-sp' --dataset_directory='/cluster/tufts/hugheslab/eharve06/Flowers_102' --experiments_directory='/cluster/tufts/hugheslab/eharve06/data-emphasized-ELBo/experiments/retrained_Flowers_102_BO_ConvNeXt_Tiny' --lr_0=0.021314203991243896 --model_arch='ConvNeXt_Tiny' --model_name='l2-sp_alpha=3.4333477024483734e-05_beta=1e-06_lr_0=0.021314203991243896_n=510_random_state=1001' --n=510 --num_workers=0 --prior_directory='/cluster/tufts/hugheslab/eharve06/convnext_tiny_torchvision' --prior_type='convnext_tiny_torchvision' --random_state=1001 --save"
    "python ../src/main_Flowers_102.py --alpha=7.668067657249977e-05 --beta=1e-06 --batch_size=128 --criterion='l2-sp' --dataset_directory='/cluster/tufts/hugheslab/eharve06/Flowers_102' --experiments_directory='/cluster/tufts/hugheslab/eharve06/data-emphasized-ELBo/experiments/retrained_Flowers_102_BO_ConvNeXt_Tiny' --lr_0=0.02314166239626202 --model_arch='ConvNeXt_Tiny' --model_name='l2-sp_alpha=7.668067657249977e-05_beta=1e-06_lr_0=0.02314166239626202_n=510_random_state=1001' --n=510 --num_workers=0 --prior_directory='/cluster/tufts/hugheslab/eharve06/convnext_tiny_torchvision' --prior_type='convnext_tiny_torchvision' --random_state=1001 --save"
    "python ../src/main_Flowers_102.py --alpha=8.298909131084933e-05 --beta=1e-06 --batch_size=128 --criterion='l2-sp' --dataset_directory='/cluster/tufts/hugheslab/eharve06/Flowers_102' --experiments_directory='/cluster/tufts/hugheslab/eharve06/data-emphasized-ELBo/experiments/retrained_Flowers_102_BO_ConvNeXt_Tiny' --lr_0=0.02344012266837493 --model_arch='ConvNeXt_Tiny' --model_name='l2-sp_alpha=8.298909131084933e-05_beta=1e-06_lr_0=0.02344012266837493_n=510_random_state=1001' --n=510 --num_workers=0 --prior_directory='/cluster/tufts/hugheslab/eharve06/convnext_tiny_torchvision' --prior_type='convnext_tiny_torchvision' --random_state=1001 --save"
    "python ../src/main_Flowers_102.py --alpha=8.747895953012145e-05 --beta=1e-06 --batch_size=128 --criterion='l2-sp' --dataset_directory='/cluster/tufts/hugheslab/eharve06/Flowers_102' --experiments_directory='/cluster/tufts/hugheslab/eharve06/data-emphasized-ELBo/experiments/retrained_Flowers_102_BO_ConvNeXt_Tiny' --lr_0=0.02366679255065933 --model_arch='ConvNeXt_Tiny' --model_name='l2-sp_alpha=8.747895953012145e-05_beta=1e-06_lr_0=0.02366679255065933_n=510_random_state=1001' --n=510 --num_workers=0 --prior_directory='/cluster/tufts/hugheslab/eharve06/convnext_tiny_torchvision' --prior_type='convnext_tiny_torchvision' --random_state=1001 --save"
    "python ../src/main_Flowers_102.py --alpha=0.01 --beta=1e-06 --batch_size=128 --criterion='l2-sp' --dataset_directory='/cluster/tufts/hugheslab/eharve06/Flowers_102' --experiments_directory='/cluster/tufts/hugheslab/eharve06/data-emphasized-ELBo/experiments/retrained_Flowers_102_BO_ConvNeXt_Tiny' --lr_0=0.015269655341751742 --model_arch='ConvNeXt_Tiny' --model_name='l2-sp_alpha=0.01_beta=1e-06_lr_0=0.015269655341751742_n=510_random_state=2001' --n=510 --num_workers=0 --prior_directory='/cluster/tufts/hugheslab/eharve06/convnext_tiny_torchvision' --prior_type='convnext_tiny_torchvision' --random_state=2001 --save"
    "python ../src/main_Flowers_102.py --alpha=0.01 --beta=1e-06 --batch_size=128 --criterion='l2-sp' --dataset_directory='/cluster/tufts/hugheslab/eharve06/Flowers_102' --experiments_directory='/cluster/tufts/hugheslab/eharve06/data-emphasized-ELBo/experiments/retrained_Flowers_102_BO_ConvNeXt_Tiny' --lr_0=0.017504550520944337 --model_arch='ConvNeXt_Tiny' --model_name='l2-sp_alpha=0.01_beta=1e-06_lr_0=0.017504550520944337_n=510_random_state=2001' --n=510 --num_workers=0 --prior_directory='/cluster/tufts/hugheslab/eharve06/convnext_tiny_torchvision' --prior_type='convnext_tiny_torchvision' --random_state=2001 --save"
    "python ../src/main_Flowers_102.py --alpha=0.01 --beta=1e-06 --batch_size=128 --criterion='l2-sp' --dataset_directory='/cluster/tufts/hugheslab/eharve06/Flowers_102' --experiments_directory='/cluster/tufts/hugheslab/eharve06/data-emphasized-ELBo/experiments/retrained_Flowers_102_BO_ConvNeXt_Tiny' --lr_0=0.023374384351108154 --model_arch='ConvNeXt_Tiny' --model_name='l2-sp_alpha=0.01_beta=1e-06_lr_0=0.023374384351108154_n=510_random_state=2001' --n=510 --num_workers=0 --prior_directory='/cluster/tufts/hugheslab/eharve06/convnext_tiny_torchvision' --prior_type='convnext_tiny_torchvision' --random_state=2001 --save"
    "python ../src/main_Flowers_102.py --alpha=0.01 --beta=1e-06 --batch_size=128 --criterion='l2-sp' --dataset_directory='/cluster/tufts/hugheslab/eharve06/Flowers_102' --experiments_directory='/cluster/tufts/hugheslab/eharve06/data-emphasized-ELBo/experiments/retrained_Flowers_102_BO_ConvNeXt_Tiny' --lr_0=0.024023263860299262 --model_arch='ConvNeXt_Tiny' --model_name='l2-sp_alpha=0.01_beta=1e-06_lr_0=0.024023263860299262_n=510_random_state=2001' --n=510 --num_workers=0 --prior_directory='/cluster/tufts/hugheslab/eharve06/convnext_tiny_torchvision' --prior_type='convnext_tiny_torchvision' --random_state=2001 --save"
    "python ../src/main_Flowers_102.py --alpha=0.01 --beta=1e-06 --batch_size=128 --criterion='l2-sp' --dataset_directory='/cluster/tufts/hugheslab/eharve06/Flowers_102' --experiments_directory='/cluster/tufts/hugheslab/eharve06/data-emphasized-ELBo/experiments/retrained_Flowers_102_BO_ConvNeXt_Tiny' --lr_0=0.023595528679486628 --model_arch='ConvNeXt_Tiny' --model_name='l2-sp_alpha=0.01_beta=1e-06_lr_0=0.023595528679486628_n=510_random_state=2001' --n=510 --num_workers=0 --prior_directory='/cluster/tufts/hugheslab/eharve06/convnext_tiny_torchvision' --prior_type='convnext_tiny_torchvision' --random_state=2001 --save"
    "python ../src/main_Flowers_102.py --alpha=0.01 --beta=1e-06 --batch_size=128 --criterion='l2-sp' --dataset_directory='/cluster/tufts/hugheslab/eharve06/Flowers_102' --experiments_directory='/cluster/tufts/hugheslab/eharve06/data-emphasized-ELBo/experiments/retrained_Flowers_102_BO_ConvNeXt_Tiny' --lr_0=0.023976774781954636 --model_arch='ConvNeXt_Tiny' --model_name='l2-sp_alpha=0.01_beta=1e-06_lr_0=0.023976774781954636_n=510_random_state=2001' --n=510 --num_workers=0 --prior_directory='/cluster/tufts/hugheslab/eharve06/convnext_tiny_torchvision' --prior_type='convnext_tiny_torchvision' --random_state=2001 --save"
    "python ../src/main_Flowers_102.py --alpha=0.01 --beta=8.528071071558505e-06 --batch_size=128 --criterion='l2-sp' --dataset_directory='/cluster/tufts/hugheslab/eharve06/Flowers_102' --experiments_directory='/cluster/tufts/hugheslab/eharve06/data-emphasized-ELBo/experiments/retrained_Flowers_102_BO_ConvNeXt_Tiny' --lr_0=0.01814705340356244 --model_arch='ConvNeXt_Tiny' --model_name='l2-sp_alpha=0.01_beta=8.528071071558505e-06_lr_0=0.01814705340356244_n=510_random_state=2001' --n=510 --num_workers=0 --prior_directory='/cluster/tufts/hugheslab/eharve06/convnext_tiny_torchvision' --prior_type='convnext_tiny_torchvision' --random_state=2001 --save"
    "python ../src/main_Flowers_102.py --alpha=1e-06 --beta=3.896039776413118e-06 --batch_size=128 --criterion='l2-sp' --dataset_directory='/cluster/tufts/hugheslab/eharve06/Flowers_102' --experiments_directory='/cluster/tufts/hugheslab/eharve06/data-emphasized-ELBo/experiments/retrained_Flowers_102_BO_ConvNeXt_Tiny' --lr_0=0.023129001704654 --model_arch='ConvNeXt_Tiny' --model_name='l2-sp_alpha=1e-06_beta=3.896039776413118e-06_lr_0=0.023129001704654_n=510_random_state=3001' --n=510 --num_workers=0 --prior_directory='/cluster/tufts/hugheslab/eharve06/convnext_tiny_torchvision' --prior_type='convnext_tiny_torchvision' --random_state=3001 --save"
    "python ../src/main_Flowers_102.py --alpha=1e-06 --beta=7.4911604655878404e-06 --batch_size=128 --criterion='l2-sp' --dataset_directory='/cluster/tufts/hugheslab/eharve06/Flowers_102' --experiments_directory='/cluster/tufts/hugheslab/eharve06/data-emphasized-ELBo/experiments/retrained_Flowers_102_BO_ConvNeXt_Tiny' --lr_0=0.022849813939270155 --model_arch='ConvNeXt_Tiny' --model_name='l2-sp_alpha=1e-06_beta=7.4911604655878404e-06_lr_0=0.022849813939270155_n=510_random_state=3001' --n=510 --num_workers=0 --prior_directory='/cluster/tufts/hugheslab/eharve06/convnext_tiny_torchvision' --prior_type='convnext_tiny_torchvision' --random_state=3001 --save"
    "python ../src/main_Flowers_102.py --alpha=5.793074862131452e-05 --beta=4.938278904953119e-06 --batch_size=128 --criterion='l2-sp' --dataset_directory='/cluster/tufts/hugheslab/eharve06/Flowers_102' --experiments_directory='/cluster/tufts/hugheslab/eharve06/data-emphasized-ELBo/experiments/retrained_Flowers_102_BO_ConvNeXt_Tiny' --lr_0=0.02218416493673235 --model_arch='ConvNeXt_Tiny' --model_name='l2-sp_alpha=5.793074862131452e-05_beta=4.938278904953119e-06_lr_0=0.02218416493673235_n=510_random_state=3001' --n=510 --num_workers=0 --prior_directory='/cluster/tufts/hugheslab/eharve06/convnext_tiny_torchvision' --prior_type='convnext_tiny_torchvision' --random_state=3001 --save"
    "python ../src/main_Flowers_102.py --alpha=1.0575578570162616e-05 --beta=1e-06 --batch_size=128 --criterion='l2-sp' --dataset_directory='/cluster/tufts/hugheslab/eharve06/Flowers_102' --experiments_directory='/cluster/tufts/hugheslab/eharve06/data-emphasized-ELBo/experiments/retrained_Flowers_102_BO_ConvNeXt_Tiny' --lr_0=0.026444400232094368 --model_arch='ConvNeXt_Tiny' --model_name='l2-sp_alpha=1.0575578570162616e-05_beta=1e-06_lr_0=0.026444400232094368_n=1020_random_state=1001' --n=1020 --num_workers=0 --prior_directory='/cluster/tufts/hugheslab/eharve06/convnext_tiny_torchvision' --prior_type='convnext_tiny_torchvision' --random_state=1001 --save"
    "python ../src/main_Flowers_102.py --alpha=7.808447640681305e-06 --beta=3.394010386314938e-06 --batch_size=128 --criterion='l2-sp' --dataset_directory='/cluster/tufts/hugheslab/eharve06/Flowers_102' --experiments_directory='/cluster/tufts/hugheslab/eharve06/data-emphasized-ELBo/experiments/retrained_Flowers_102_BO_ConvNeXt_Tiny' --lr_0=0.02651598292518062 --model_arch='ConvNeXt_Tiny' --model_name='l2-sp_alpha=7.808447640681305e-06_beta=3.394010386314938e-06_lr_0=0.02651598292518062_n=1020_random_state=1001' --n=1020 --num_workers=0 --prior_directory='/cluster/tufts/hugheslab/eharve06/convnext_tiny_torchvision' --prior_type='convnext_tiny_torchvision' --random_state=1001 --save"
    "python ../src/main_Flowers_102.py --alpha=1e-06 --beta=2.70259554770915e-06 --batch_size=128 --criterion='l2-sp' --dataset_directory='/cluster/tufts/hugheslab/eharve06/Flowers_102' --experiments_directory='/cluster/tufts/hugheslab/eharve06/data-emphasized-ELBo/experiments/retrained_Flowers_102_BO_ConvNeXt_Tiny' --lr_0=0.026693187781133748 --model_arch='ConvNeXt_Tiny' --model_name='l2-sp_alpha=1e-06_beta=2.70259554770915e-06_lr_0=0.026693187781133748_n=1020_random_state=1001' --n=1020 --num_workers=0 --prior_directory='/cluster/tufts/hugheslab/eharve06/convnext_tiny_torchvision' --prior_type='convnext_tiny_torchvision' --random_state=1001 --save"
    "python ../src/main_Flowers_102.py --alpha=3.4681398352855764e-06 --beta=1e-06 --batch_size=128 --criterion='l2-sp' --dataset_directory='/cluster/tufts/hugheslab/eharve06/Flowers_102' --experiments_directory='/cluster/tufts/hugheslab/eharve06/data-emphasized-ELBo/experiments/retrained_Flowers_102_BO_ConvNeXt_Tiny' --lr_0=0.022970012949833953 --model_arch='ConvNeXt_Tiny' --model_name='l2-sp_alpha=3.4681398352855764e-06_beta=1e-06_lr_0=0.022970012949833953_n=1020_random_state=2001' --n=1020 --num_workers=0 --prior_directory='/cluster/tufts/hugheslab/eharve06/convnext_tiny_torchvision' --prior_type='convnext_tiny_torchvision' --random_state=2001 --save"
    "python ../src/main_Flowers_102.py --alpha=1.6340084423379804e-06 --beta=1e-06 --batch_size=128 --criterion='l2-sp' --dataset_directory='/cluster/tufts/hugheslab/eharve06/Flowers_102' --experiments_directory='/cluster/tufts/hugheslab/eharve06/data-emphasized-ELBo/experiments/retrained_Flowers_102_BO_ConvNeXt_Tiny' --lr_0=0.024075758371211734 --model_arch='ConvNeXt_Tiny' --model_name='l2-sp_alpha=1.6340084423379804e-06_beta=1e-06_lr_0=0.024075758371211734_n=1020_random_state=2001' --n=1020 --num_workers=0 --prior_directory='/cluster/tufts/hugheslab/eharve06/convnext_tiny_torchvision' --prior_type='convnext_tiny_torchvision' --random_state=2001 --save"
    "python ../src/main_Flowers_102.py --alpha=4.568318129068651e-05 --beta=1e-06 --batch_size=128 --criterion='l2-sp' --dataset_directory='/cluster/tufts/hugheslab/eharve06/Flowers_102' --experiments_directory='/cluster/tufts/hugheslab/eharve06/data-emphasized-ELBo/experiments/retrained_Flowers_102_BO_ConvNeXt_Tiny' --lr_0=0.029484468601280737 --model_arch='ConvNeXt_Tiny' --model_name='l2-sp_alpha=4.568318129068651e-05_beta=1e-06_lr_0=0.029484468601280737_n=1020_random_state=2001' --n=1020 --num_workers=0 --prior_directory='/cluster/tufts/hugheslab/eharve06/convnext_tiny_torchvision' --prior_type='convnext_tiny_torchvision' --random_state=2001 --save"
    "python ../src/main_Flowers_102.py --alpha=1e-06 --beta=1e-06 --batch_size=128 --criterion='l2-sp' --dataset_directory='/cluster/tufts/hugheslab/eharve06/Flowers_102' --experiments_directory='/cluster/tufts/hugheslab/eharve06/data-emphasized-ELBo/experiments/retrained_Flowers_102_BO_ConvNeXt_Tiny' --lr_0=0.01919533053167957 --model_arch='ConvNeXt_Tiny' --model_name='l2-sp_alpha=1e-06_beta=1e-06_lr_0=0.01919533053167957_n=1020_random_state=3001' --n=1020 --num_workers=0 --prior_directory='/cluster/tufts/hugheslab/eharve06/convnext_tiny_torchvision' --prior_type='convnext_tiny_torchvision' --random_state=3001 --save"
    "python ../src/main_Flowers_102.py --alpha=1e-06 --beta=1e-06 --batch_size=128 --criterion='l2-sp' --dataset_directory='/cluster/tufts/hugheslab/eharve06/Flowers_102' --experiments_directory='/cluster/tufts/hugheslab/eharve06/data-emphasized-ELBo/experiments/retrained_Flowers_102_BO_ConvNeXt_Tiny' --lr_0=0.018729620314604723 --model_arch='ConvNeXt_Tiny' --model_name='l2-sp_alpha=1e-06_beta=1e-06_lr_0=0.018729620314604723_n=1020_random_state=3001' --n=1020 --num_workers=0 --prior_directory='/cluster/tufts/hugheslab/eharve06/convnext_tiny_torchvision' --prior_type='convnext_tiny_torchvision' --random_state=3001 --save"
)

eval "${experiments[$SLURM_ARRAY_TASK_ID]}"

conda deactivate